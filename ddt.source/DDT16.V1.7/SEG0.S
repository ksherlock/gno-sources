═паг█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙            сег╟█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜ до нот цханге цоде ин тхис сецтион  ╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜ СО ЕНТРЫ ПОИНТС ЦАН БЕ ПУБЛИСХЕД╝ ╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██щСЕГНУМ═╫═ё╓╟╟╟╟═╩ЦУРРЕНТ СЕГМЕНТ НУМБЕР██═орг═╓е╟ц╦╟╟═╩╡к слот██╙ тхе фолловинг ис рун фром тхе цард слот спаце╝█╙ тХЕ ддт╠╤ МУСТ БЕ ИН СЛОТС ╢╛╣╛╤ ОР ╥╝██╙ тхис ис фирст инструцтион ин епром██сТАРТ╠═пхп█═сец█═бра═сТАЫиН██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ ╜╜╜ аЛТЕРНАТЕ ЕНТРЫ ПОИНТ ╜╜╜█╙ сТАРТ ХЕРЕ ИФ ЫОУ ВАНТ ТХЕ ддт ЦАРД ТО ДО АН ртс АФТЕР ИТ ИС ИНИТИАЛИЗЕД╝█╙ тХЕ ЦОНТЕНТС ОФ ТХЕ аЦЦУМУЛАТОР ДЕТЕРМИНЕ ТХЕ РЕТУРН ЦОНДИТИОН АС ФОЛЛОВС╨█╙ а ╫ ╟╡ тХЕ БУТТОН ╕ бркС АРЕ НОТ ЕНАБЛЕД╛ ВРИТИНГ ТО ддт ИС ЕНАБЛЕД╛█╙        АЦЦЕССИНГ ТХЕ ЖЕЦТОРС ╓ффе╦╜╓фффф ИС ок╝█╙ а ╫ ╟Ё тХЕ БУТТОН ИС ТХЕ ОНЛЫ ВАЫ БАЦК ИНТО ТХЕ ддт╝ аЦЦЕССИНГ ТХЕ ЖЕЦТОРС█╙        ИС ок╝ тХЕ ддт ИС ВРИТЕ ПРОТЕЦТЕД╝█╙ а ╫ ьь тХЕ БУТТОН ╕ бркС АРЕ ЕНАБЛЕД╛ ВРИТИНГ ТО ддт ИС ЕНАБЛЕД╛ АЦЦЕССИНГ█╙        ТХЕ ЖЕЦТОРС ВИЛЛ ДИСАБЛЕ ТХЕ аППЛЕС ром ИН ТХЕ ╓ффЬЬ АДДРЕССЕС╝█╙ иФ ЕНТЕРЕД ИН ЕМУЛАТИОН МОДЕ ╗е╫╠╘ ВЕ ДО АН ртс█╙ еЛСЕ ВЕ ДО АН ртл██сТАРТ╡═пхп█═цлц█═бра═сТАЫиН██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ ╜╜╜ аЛТЕРНАТЕ ЕНТРЫ ПОИНТ ╜╜╜█╙█╙ вАРМ РЕЕНТРЫ╝ еНТЕРИНГ ХЕРЕ ПРЕСЕРЖЕС УСЕР╖С БРЕАКПОИНТС АНД СЫСТЕМ СЕТТИНГС╝██вАРМеНТР█═бра═цМДдОртс██╙ ЦОМЕ ХЕРЕ ТО РЕСТОРЕ УСЕР╖С СТАТУС ИНЦАСЕ ИНТЕРРУПТС АРЕ ПЕНДИНГ█сЛОТплп═еяу═╙╜╠═╩ЕЯУАТЕ ФОР ртс█═плп═╩РЕСТОРЕ СТАТУС█═ртл══╩ГО ТО УСЕР╖С РЕТУРН АДДРЕСС██═хеь═а╡═╩╓а╡ ИС ДЕЖИЦЕ СИГНАТУРЕ██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜ дон╖т цханге анытхинг абоже тхис поинт ╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜ СО ЕНТРЫ ПОИНТС ЦАН БЕ ПУБЛИСХЕД╝ ╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██сТАЫиН═меморы╦█═цлд█═стал═╓е╟цффф═╩ГЕТ ╡к СПАЦЕ█═стал═ацц═╩ САЖЕ аЦЦ█═рор═╩сет мсб витх царры█═стал═сТРТ╡фЛГ═╩бит ╥╫╟ до ан ртс афтер инитиализатион██═цлц█═ьце═╩НАТИЖЕ МОДЕ█╙ сАЖЕ уСЕР╖С РЕТУРН АДДРЕСС ФРОМ СТАЦК█═меморы╠╤█═лда═╓╟╡╛с═╩гет ретурн аддресс█═стал═ретъадд═╩саже ФОР ╒яу╒ ЦОММАНД█═меморы╦██╙ пУТ НЕЬТ Ё ЛИНЕС ХЕРЕ ФРОМ сажерег СО цомдйс ДИД НОТ ЦХАНГЕ дбр█═пхб█═пла█═стал═дбр═╩саже дата банк рег╝█═ьце══╩РЕСТОРЕ УСЕР╖С е ФЛАГ СО ИТС САЖЕД ИН сажерег██═плп═╩РЕТРИЕЖЕ СТАТУС█═йср═сажерег═╩саже регистерс ╕ свитцхес╛ ╓е╟ то дбр█╙ рЕТУРНС ВИТХ мь╦ ╕ СТАЦК ИН ВОРК СТАЦК АРЕА╝██╙ пУТ НЕЬТ Ё ЛИНЕС ХЕРЕ ФРОМ сажерег СО цомдйс ДИД НОТ ЦХАНГЕ пбр█═пхк█═пла█═ста═пбр═╩СЕТ ТО УСЕР╖С пбр██╙ детермине слот нумбер█═йср═путслот═╩пут слот нумбер он стацк█═лда═╓╟╟╛с█═ста═слотцн═╩саже слотцн█═анд═ё╓╟ф═╩маке слот╟н█═асл█═асл█═асл█═асл█═ста═слотн╟═╩саже слот нумбер Н╟█═таь██╙ уСЕ мИСЦ╝ тООЛС ТО ФИНД ТХЕ ЛОЦАТИОН ОФ ТХЕ брк жАРИАБЛЕС█═мь╠╤█═пха══╩СПАЦЕ ФОР РЕСУЛТ█═пха══╩█═пеа═ё╓╟╟╟╧═╩ПАРАМЕТЕР ФОР брк жар█═лдь═ё╓╠╤╟Ё═╩МИСЦ ТООЛС ё╠╤█═йсл═╓е╠╟╟╟╟═╩МАКЕ ТООЛ ЦАЛЛ██╙ гО ТО ТХЕ ЕНД ОФ ТХЕ СЛОТ СПАЦЕ ТО ФИНИСХ ТХЕ СТАРТУП ТО ЛЕАЖЕ РООМ АБОЖЕ█╙ ╓цН╥ф ФОР ТХЕ РОУТИНЕС ТХАТ НЕЕД ИТ█═бра═стартуп╡█═МЬ═╔╠╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ ретурн поинт фром цомддо усер суброутине█╙╙╙╙ алсо усед бы варментр ╙╙╙╙██цмддортс█═стал═╓е╟цффф█═сеи══╩ДИСАБЛЕ ИНТЕРРУПТС█═йср═ртсрест═╩саже регистерс╛ сет натиже моде ╕ мь╦█═сец█═рор═инитфлаг═╩индицате усер маы хаже мессед витх сцреен█═ймп═цмдоцонт═╩ЦОНТИНУЕ ИН ╡к СЛОТ██╙╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫╫█╙       ддт  интеррупт  хандлер█╙█╙ аЛЛ ИНТЕРРУПТС ЖЕЦТОРЕД ХЕРЕ ФРОМ ц╟инт ЦОДЕ ИН и╞о СПАЦЕ█╙██слотинт═стал═╓е╟цффф═╩╡к ОФФ ╗МУСТ БЕ БЕФОРЕ ╓цН╥ф╘█═ймп═интстуфф═╩до интеррупт хоусе кеепинг стуфф██╙ рЕТУРН ХЕРЕ ФРОМ и╞о РОУТИНЕС█иоретрн═ьце══╩САЖЕ цАРРЫ█═цлц═╩РЕСТОРЕ НАТИЖЕ МОДЕ█═ьце██╙╙ еНАБЛЕ ддт╖С ╡к СЛОТ█ддтенаб═ста═╓цффф═╩дИСАБЛЕ АЛЛ ╡к СЛОТС█═ртс═╩оНЛЫ ОУР ╡к СЛОТ ИС АЦТИЖЕ██╙ рЕТУРН ФРОМ и╞о РОУТИНЕС ТО ЦАРД СЛОТ СПАЦЕ█слотртс═еяу═╙█═стал═╓е╟цффф═╩дисабле ╡к█╙ тхис поинт муст бе бефоре ╓цн╥ф█═ерр═╙╜╠╞╓е╟ц╦╥ф██═пль═╩РЕСТОРЕ ь ТХАТ ВАС САЖЕД ИН лда╞стаинды██╙ рЕСТОРЕ МЕМОРЫ СТАТЕ СВИТЦХЕС█═ста═вритмаин═╩дефаулт то маин█═ста═реадмаин█╨офф═йср═еьцхзпаг═╩еьцханге зеро паге лоцатионс█═цлд█═цмп═ё╟═╩сет цондитион цодес█═ртс██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ цОНТИНУЕ БРЕАК ХАНДЛЕР██бреак═меморы╠╤█═лда═пцло═╩ЦОРРЕЦТ ФОР ТХЕ ВАЫ ТХЕ брк ИНСТ ВОРКС█═дец█═дец█═ста═пцло█═меморы╦██═йср═трансфр╟═╩сет пбр иф емулатион моде╛ сет инитфлаг█═дфб═сетпбрц═╩ЦОДЕ█═ста═пассфлг═╩цонтинуе витх го афтер трацинг█═ймп═лоокбрк═╩ тхру брк██═мь═╔╠╠██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ тхис поинт муст бе афтер ╓цН╥ф██╙╙╙╙ ерр ╙╜╠╞╓е╟ц╦╦╟█╙╙╙╙ дс ╓е╟ц╦╦╟╜╙╛╓фф█═ерр═╓е╟ц╦╥ф╞╙██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ пАСЦАЛ ╠╝╠ СЛОТ ИНТЕРФАЦЕ█╙█╙ цАЛЛ ТХЕ ФИРМВАРЕ РОУТИНЕ СПЕЦИФИЕД БЫ ТХЕ ЛОВ БЫТЕ ОФ ТХЕ аЦЦ ИН ТХЕ█╙ пАСЦАЛ ж╠╝╠ ЦОМПАТИБЛЕ ДЕЖИЦЕ ИН СЛОТ ╠ ОР ╡╝ еНТЕР ВИТХ ь╫╓ц╠ ОР ╓ц╡╛ ы╫╓Н╟╛█╙ аЦЦ ЛОВ БЫТЕ ╫ ОФФСЕТ ТО пАСЦАЛ ЕНТРЫ ПОИНТ ОФФСЕТ╝█╙ аЦЦ ХИ БЫТЕ ╫ ЦХАРАЦТЕР ТО ВРИТЕ ИФ ВРИТИНГ ОР СТАТУС РЕЯУЕСТ ЦОДЕ╝██топасцал═еяу═╙╜╠═╩еяу ФОР ртс█═пхы═╩САЖЕ ╓Н╟█═таы═╩ОФФСЕТ ТО пАСЦАЛ ФИРМВАРЕ РОУТИНЕ█═бит═╓цффф═╩ДИСАБЛЕ ╡к ромс█═цпь═ё╓ц╠═╩СЛОТ ё╠ ©█═бне═╨слот╡═╩ИФ НО█═бит═╓ц╠╟╟═╩ЕНАБЛЕ СЛОТ ╠█═лда═╓ц╠╟╟╛ы═╩пАСЦАЛ ФИРМВАРЕ ОФФСЕТ█═бра═╨цонт█╨слот╡═бит═╓ц╡╟╟═╩ЕНАБЛЕ СЛОТ ╡█═лда═╓ц╡╟╟╛ы═╩пАСЦАЛ ФИРМВАРЕ ОФФСЕТ█╨цонт═дец═╩ОФФСЕТ ╜ ╠█═плы═╩РЕСТОРЕ ы█═сец█═ьце══╩╦ БИТ МОДЕ ФОР пАСЦАЛ ╠╝╠ ЦАЛЛС█═пер═иоретрн╜╠═╩РЕТУРН АДДРЕСС ИН ОУР СЛОТ СПАЦЕ█═пхь═╩╓ц╠ ОР ╓ц╡█═пха═╩ЛОВ БЫТЕ ОФ ФИРМВАРЕ ОФФСЕТ ╜╠█═ьба═╩ЦХАРАЦТЕР ТО СЕНД ИФ ВРИТИНГ ОР РЕЯУЕСТ ЦОДЕ█═ртс═╩СИМУЛАТЕ йср ТО пАСЦАЛ ФИРМВАРЕ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ ЦОНТИНУАТИОН ОФ СТАРТУП█═МЬ═╔╟╟██стартуп╡█═пла══╩ГЕТ ЛОВ ВОРД ОФ брк жар ЖЕЦТОР█═ста═бркстуф═╩САЖЕ ИН ддт рам█═пла══╩ГЕТ ХИ ВОРД█═мь╦█═ста═бркстуф╚╡██╙ цЛЕАР лс╠╟╧ БОТТОМ ТО АЛЛОВ СЕГМЕНТ ЦХАНГЕС╝█═лда═ё╔╠╠╠╠╠╠╠╟═╩цб╡ хи╛ цб╠ пос едге╛ ца╡ хи╛ ца╠ нег едге█═ста═жиапцр═╩сЕТ УП жиа██╙ иНИТИАЛИЗЕ ддт ИНТЕРРУПТ ЖЕЦТОР БУФФЕРС█╙ иНИТ рам ╕ жиа╛ ДИСПЛАЫ ВИНДОВС ╕ ЦОПЫРИГХТ НОТИЦЕ█═йср═трансфр╟═╩инитиализе рам жецторс ╕ жиа█═дфб═инитрамжц═╩цоде██╙ дИСПЛАЫ ПРОГРАМ ЖЕРСИОН НУМБЕР ╕ ДАТЕ╛ СЕТ жиа ЦОНДИТИОН█╙ сЕТ ЦОНДИТИОН ЦОДЕ ц АС ФОЛЛОВС╨█╙ ц ╫ ╠ ╫ ЕНТЕР ддт█╙ ц ╫ ╟ ╫ РЕТУРН ТО УСЕР АФТЕР ИНИТ██═йср═трансфр╟█═дфб═дисжерсц═╩ЦОДЕ██═бцц═╨ноентер═╩дО НОТ еНТЕР ддт█═ймп═гетцом╟═╩еНТЕР ддт██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ леаже ддт█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██╙ рЕСТОРЕ СТАЦК ╕ дбр█╨ноентер█═индеь╠╤█═лдь═стацк═╩гет усер╖с стацк█═тьс═╩ресторе█═индеь╦█═ьба═╩саже лов быте оф ацц█═лда═дбр═╩гет усер╖с дбр█═пха█═плб═╩РЕСТОРЕ дбр█═ьба═╩ресторе лов быте оф ацц█═ста═жиапцр═╩сЕТ РЕТУРН ЦОНДИТИОН█═бит═емулате═╩ВХАТ МОДЕ ВАС УСЕР ИН©█═бми═╨дортс═╩иф ЕМУЛАТИОН МОДЕ█═ртл═╩ретурн бацк то усер витх ддт инитиализед█╨дортс═ртс═╩УСЕР ВАС ИН ЕМУЛАТИОН МОДЕ СО ДО ртс██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙  нмицонт█╙█╙ сЕТТИНГ иНИТфЛАГ ЦАУСЕС ТХЕ ТЕЬТ ПАГЕ ╕ СВИТЦХЕС ТО БЕ САЖЕД█╙ БЫ ТХЕ ддт ОУТПУТ РОУТИНЕС ИФ ИНЖИСИБЛЕ МОДЕ ИС ОН╝█нмицонт═ймп═нмижец╡═╩ЙУМП ТО ТХЕ нми ХАНДЛЕР ИН ╡к СПАЦЕ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ усеринт ╫ тХЕ ИНТЕРРУПТ ВАС НОТ ФРОМ ддт СО ГО ТО уСЕР╖С ИНТЕРРУПТ ХАНДЛЕР█усеринт═ймп═тоц╟н╟ио██╙╙╙ тХИС ПОИНТ МУСТ БЕ БЕФОРЕ ╓ц╦фд█═лст═он█═ерр═╙╜╠╞╓е╟ц╦фд██═дс═╓е╟ц╦фд╜╙╛╓фф═╩ФИЛЛ ВИТХ ╓фф██╙ жЕРСИОН НУМБЕР ОФ ддт╠╤ УСЕД БЫ иНИТ█═дв═жерсион██═хеь═╟╠═╩ДОН╖Т ЦХАНГЕ СПЕЕД РЕГИСТЕР█═ДО═НОЛИСТ█═лст═офф█═ФИН██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙                     стартинг сегмент ╟ оф ╡к слот╝█╙█╙ ║║║║║║ варнинг ║║║║║║║█╙ бИБЛЕ ЖЕРСЕ ФОЛЛОВС╝ дОН╖Т РЕАД АТ ЫОУР ОВН РИСК╝█╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██═асц═╒фОР гОД СО ЛОЖЕД ТХЕ ВОРЛД╛ ТХАТ ХЕ ГАЖЕ ХИС ОНЛЫ БЕГОТТЕН ╒█═асц═╒сОН╛ ТХАТ ВХОСОЕЖЕР БЕЛИЕЖЕТХ ИН ХИМ СХОУЛД НОТ ПЕРИСХ╛ ╒█═асц═╒БУТ ХАЖЕ ЕЖЕРЛАСТИНГ ЛИФЕ╝ ╗сТ╝ йОХН Ё╨╠╤╘╒██═ерр═╙╜╠╞╓е╟ца╟╟█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ маке суре тхис поинт ис ╓ца╟╟ ор хигхер ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██═дс═╓е╟ца╟╟╜╙╛╓фф██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙       нмижец ╗МУСТ СТАРТ ИН СЕГМЕНТ ЗЕРО╘██нмижец╡█═йср═трансфр╟═╩сет пбр иф емулатион моде╛ сет инитфлаг█═дфб═сетпбрц═╩ЦОДЕ██═лда═жиаифр═╩гет интеррупт флаг рег╝█═анд═иербуфф═╩тест онлы тхосе битс тхат аре енаблед█═лср█═лср█═бцс═цоммдрцл═╩иф буттон██═бит═етфлаг═╩вАС нми ЦАУСЕД БЫ ет©█═бми═цонтнми═╩иФ ЫЕС██═бит═трацфлаг═╩вАС нми ЦАУСЕД БЫ тРАЦЕ©█═бми═цонтнми═╩ИФ ЫЕС██╙ нми ВАС ЦАУСЕД БЫ хАРД бРЕАК█═бит═халтъалл═╩иф сет халт ин алл банкс█═бми═хардстп═╩стоп█═лда═дбр█═цмп═хардпбр═╩стоп ин тхис банк©█═бея═хардстп═╩иф ыес█═лда═пбр█═цмп═хардпбр═╩стоп ин тхис банк©█═бея═хардстп═╩иф ыес█доеьец═ймп═еьецуте═╩ДОН╖Т СТОП ИН ТХИС БАНК██хардстп═йср═трансфр╟═╩дисплаы ╒хард бреак╒█═дфб═дисхардц═╩цоде██цоммдрцл═ймп═цомддр██цонтнми═ймп═╗енаблтжц╘═╩го то тхе траце жецтор лоцатион██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ цОМЕ ХЕРЕ ИФ нми ЦАУСЕД БЫ ет ОР тРАЦЕ██етжецтор═йср═трансфр╟═╩цонтинуе ин ДИФФЕРЕНТ СЕГМЕНТ█═дфб═етжцонтц═╩ЦОДЕ█═бит═трацфлаг═╩ВАС нми ЦАУСЕД БЫ тРАЦЕ©█═бпл═╨нотрац═╩ИФ НО█═ймп═нмитрц═╩ИФ ЫЕС█╨нотрац═ймп═гетцом╟██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ дИСАБЛЕ АЛЛ ИНТЕРРУПТС╛ ПУТ ╞инит ЛОВ██цмдоцонт═лда═ё╔╟╠╠╠╠╠╠╠═╩дисабле алл интерруптс█═ста═жиаиер═╩алсо цлеарс бит ╥ оф жиаифр█═лда═жиапцр═╩ентер хере то пут ╞инит лов█═ора═ё╔╠╠╠╟╠╠╠╟═╩реможе инжисибилиты ╗ца╡ хи╘ ╕ ДОН╖Т РЕПЛАЦЕ█═ста═жиапцр═╩аППЛЕ╖С ЖЕЦТОРС╛ АЛЛОВ СВИТЦХИНГ СЕГМЕНТС ╗цб╡ ХИ╘██═йср═трансфр╟═╩зпагесаже╛ сетмстат╛ диспон█═дфб═варминитц═╩ЦОДЕ█═ймп═гетцом╟██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдтр█╙  пЕРФОРМС САМЕ АС цомдст БУТ ДОЕС НОТ ДИСПЛАЫ РЕГИСТЕРС╝█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██цомдтр═еяу═╙█═пхп█═сец█═рор═стфлаг═╩ СЕТ ст ФЛАГ ТО НОТ ДИСПЛАЫ РЕГИСТЕРС█═плп█═бра═трцонт██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдеь█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██цомдеь═ста═ефлаг██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдст█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██цомдст═еяу═╙█═стз═стфлаг═╩ СЕТ ст ФЛАГ ТО ДИСПЛАЫ РЕГИСТЕРС██трцонт═бея═траце╠═╩но╛ до оне траце█ецомманд█═йср═трансфр╟═╩реад нумбер█═дфб═цхкреадц═╩ЦОДЕ█═бцц═лоадт═╩иф жалид█бадпар╟═лда═ёбадпар═╩еррор нумбер██ерреьит╟█═бит═╓цф╟╟═╩енабле еьт рам█═йср═трансфр╟═╩инжалид цомманд█═дфб═еррбеепц═╩цоде быте█═ймп═гетцом╟██лоадт═меморы╠╤█═лда═леттер╠█═ста═тцоунт═╩лоад траце цоунт█═меморы╦█═бра═степ╠═╩лоок фор бреак██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдер█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██цомдер═ста═ртсфлаг██сътраце╠═╫═щСЕГНУМ═╩СЕГМЕНТ НУМБЕР ОФ ЦОММАНД█траце╠═стз═тцоунт╚╠█═лдь═ё╠█═сть═тцоунт═╩сет тцоунт фор оне траце██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ дО ╠ ИНСТРУЦТИОН╛ ЕЖЕН ОУР реал БРЕАК╛ ДОН╖Т СТОП ЕЖЕН ИФ БРЕАК ЦОУНТ█╙ РЕАЦХЕС ЗЕРО╛ ТХЕН ГО ТО ТХЕ нмитрц ЖЕЦТОР ЛОЦАТИОН╝█╙ тХИС АЛЛОВС ЦОНТИНУИНГ ТХРОУГХ А БРЕАК ВИТХ тр╛ еь ╕ ер██състеп╠═╫═щСЕГНУМ═╩СЕГМЕНТ НУМБЕР ОФ ТХИС РОУТИНЕ█степ╠═сец█═бцс═лтрацежц██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ дО ╠ ИНСТРУЦТИОН╛ ЕЖЕН ОУР РЕАЛ БРЕАК╛ БУТ█╙ СТОП ИФ ТХЕ БРЕАК ЦОУНТ РЕАЦХЕС ЗЕРО╛ ЕЛСЕ ГОТО нмитрц╝██лоокбрк═цлц██сълтраце═╫═щСЕГНУМ═╩СЕГМЕНТ НУМБЕР ОФ ТХИС ЦОММАНД█лтрацежц█═рор═стопбрк═╩╪╓╦╟╫стоп иф тогофлг╫╟╛╬╓╥ф╫дон╖т стоп█═йср═трансфр╟═╩иф оур брк╛ дец того█═дфб═децтгпцц═╩ЦОДЕ█═бми═трацен═╩нот бреак ор нот оурс█═пхп═╩саже статус██═сец█═рор═брквфлг═╩неед то упдате тхе брк виндов██═бит═стопбрк═╩стоп иф тогофлг ╫ ╟ ©█═бми═╨цонт═╩иф ╬ ╓╥ф тхен дон╖т стоп██═лда═тогофлг═╩того ╫ ╟ ©█═бне═╨цонт═╩иф но█═пла█═ймп═траценд═╩стоп ╕ дисплаы регистерс█╨цонт═плп█═бне═трацен═╩имплиед брк██╙ дИСАБЛЕ хард БРЕАК СО ТХЕ СОФТ БРЕАК ИС НОТ ЛОСТ█═лда═ё╓╟╡█═трб═иербуфф═╩ДИСАБЛЕ БУТТОН ИНТЕРРУПТ██═йср═трансфр╟═╩реплаце тхе ╟╟ витх оригинал инструцтион быте█═дфб═реплацец═╩цоде быте█═сец█═рор═брктрфлг═╩ИНДИЦАТЕ ВЕ АРЕ ТРАЦИНГ ТХРОУГХ ОНЕ ОФ ОУР БРЕАКС██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ тРАЦЕ н ИНСТРУЦТИОНС ОФ ТХЕ ТАРГЕТ ПРОГРАМ██трацен██╙ цХЕЦК РЕАЛТИМЕ ╕ ПРОГРАМ ОНЛЫ ВИНДОВС██═бит═реалтиме═╩аре реалтиме рангес сет ©█═бми═╨цхкпвин═╩иф ыес цхецк прот виндов█═бит═прогонлы═╩аре програм онлы рангес сет ©█═бпл═╨нопр═╩иф но██╙ иФ ыес╛ к╞пц МУСТ БЕ ИНСИДЕ ПРОГРАМ ОНЛЫ РАНГЕ ТО БЕ ЕЬЕЦУТЕД██╨цхкпвин═лдь═ёЁ╟█╨цхецк═лда═протадр╛ь═╩гет прот тыпе█═цмп═ё╒т╒═╩цоде траце ранге ©█═бне═╨цхкп═╩иф но█═йср═трансфр╟═╩ин ранге ©█═дфб═цхкрангц═╩ЦОДЕ█═бцц═╨неьт═╩иф но█═стз═цомртфлг═╩цомдрт нот АЦТИЖЕ ╗╥╫╟╘╛ фром протвинд ╗╤╫╟╘█═ймп═нмицомрт═╩иф ыес╛ рун суброутине ин реалтиме█╨цхкп═цмп═ё╒п╒═╩програм онлы ранге ©█═бне═╨неьт█═йср═трансфр╟═╩ин ранге ©█═дфб═цхкрангц═╩ЦОДЕ█═бцс═╨нопр═╩иф ыес╛ цонтинуе траце█╨неьт═сец█═тьа█═сбц═ё╤═╩неьт тыпе█═таь█═бпл═╨цхецк██╙ оут оф рангес╝ иФ прог ОНЛЫ ФЛАГ ИС СЕТ АНД ВЕ АРЕ ХЕРЕ╛ ВЕ МУСТ БЕ█╙ ОУТСИДЕ прог ОНЛЫ ВИНДОВ╛ СО СТОП ТРАЦИНГ ╕ ИНДИЦАТЕ ОУТСИДЕ прог РАНГЕ╝██═бит═прогонлы═╩аре програм онлы рангес сет ©█═бпл═╨нопр═╩иф но█═йср═трансфр╟═╩оутсиде прог ранге█═дфб═оутпргрц═╩ЦОДЕ█═бцц═╨нопр═╩оур слот и╞о спаце ис ок█═ймп═цомддр██╨нопр█╙ лда мстате█╙ ста олдмстат ╩саже олд мстате██═йср═лдапбриы═╩гет быте ат пбр╞пц█═ста═усеропцд═╩саже усер╖с опцоде█═бне═╨нотбрк═╩иф нот брк██╙ иС брк ОУТ РЕАЛТИМЕ брк ©██═бит═ртбркфлг█═бпл═╨халтбрк═╩ИФ НОТ РЕАЛТИМЕ█═индеь╠╤═╩╠╤ бит█═лдь═стацк═╩ис тхис оур реалтиме брк█═цпь═ртстацк═╩стацк ат пре реалтиме лоцал ©█═индеь╦═╩╦ бит█═бне═╨халтбрк═╩ИФ НОТ╛ ХАЛТ█═йср═трансфр╟═╩ресторе цхангед стуфф█═дфб═рестртц═╩ЦОДЕ█═бжц═╨ртвинд═╩иф ресулт оф т РАНГЕ█╨халтбрк█═ймп═цомддр═╩енд цомдрт█╨ртвинд═ймп═нмитрц═╩цонтинуе витх вхатежер██╨нотбрк═индеь╠╤█═лдь═стацк█═сть═ртстацк═╩САЖЕ ЦУРРЕНТ СТАЦК ФОР ПОССИБЛЕ УСЕ БЫ РЕАЛТИМЕ█═индеь╦█═лда═ё╓╦╟█═тсб═тфлаг═╩тфлаг╛ ЕНАБЛЕ т╨ МОДЕ█═тсб═трацфлаг═╩ТРАЦЕ ИС АЦТИЖЕ██═йср═трансфр╟█═дфб═трсетжиац═╩СЕТ жиа ФОР ТРАЦЕ██═ймп═еьецуте═╩ресторе регистерс анд рун програм╝██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ цОМЕ ХЕРЕ АФТЕР ТРАЦИНГ ╠ ИНСТРУЦТИОН ТО ЦОНТИНУЕ цомдрт██нмицомрт═йср═трансфр╟═╩сет уп фор реалтиме ╕ гото еьецуте█═дфб═сетупртц═╩ЦОДЕ██╙ рЕТУРНС ИФ АН ЕРРОР ОЦЦУРС╝█═лды═ё╠═╩ПОСИТИОН ЕРРОР МЕССАГЕ█═бжц═╨нором█═лда═ёбадрт═╩йсл НОТ АЛЛОВЕД ВИТХ рт ОР т РАНГЕ ИН ╦ БИТ МОДЕ█═бра═╨тоерр██╙ а брк ЦОУЛД НОТ БЕ ПЛАЦЕД АТ ТХЕ ИНСТРУЦТИОН ПОИНТЕД ТО БЫ ТХЕ█╙ СТАЦКЕД РЕТУРН АДДРЕСС╝█╨нором═лда═ёвритфаил═╩нОТ АБЛЕ ТО ВРИТЕ ТО ДЕСИРЕД ЛОЦАТИОН█╨тоерр═ймп═ерреьит╟██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ иФ трАЦЕ ЦАУСЕС АН нми ТХЕ нми ХАНДЛЕР РОУТИНЕ СЕНДС█╙ ТХЕ ПРОГРАМ ТО нмитрц╝██брктрц═лда═ё╓╟╡█═тсб═иербуфф═╩РЕЕНАБЛЕ БУТТОН ИНТЕРРУПТ█═лда═леттерЁ═╩аддресс вас пут ин леттер Ё╛╡╛╠█═ста═дбрддт═╩бы жалидпц ор децтгпц█═меморы╠╤█═лда═леттер╠█═ста═ловадд█═меморы╦█═лды═ё╟█═тыа█═йср═стаинды═╩пут бреак бацк ин█═инц═поинт═╩поинт то олд брк инфо█═инц═реалбрк═╩реал брк цоунт█═ртс██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ цОНТИНУЕ АФТЕР нми ФРОМ тРАЦЕ██нмитрц═стз═трацфлаг═╩ЦЛЕАР тРАЦЕ АЦТИЖЕ ФЛАГ█═лда═ё╓╦╟█═трб═брктрфлг═╩АРЕ ВЕ ТРАЦИНГ ОУР РЕАЛ БРЕАК©█═бея═╨нобрк═╩ИФ НО█═йср═брктрц═╩ИФ ЫЕС██╨нобрк═лда═ё╓╦╟█═трб═гофлаг═╩ВАС ЦОММАНД го©█═бея═╨ного═╩ИФ НО█═ймп═еьецуте═╩ИФ ЫЕС██╨ного═трб═цомртфлг═╩ВАС цомдрт АЦТИЖЕ©█═бне═нмицомрт═╩ИФ ЫЕС██═лда═ефлаг═╩вас цомманд еь ©█═бми═еьцонт═╩иф ыес██═бит═ртсфлаг═╩аре ве лоокинг фор ан ртс█═бпл═╨цхкпас═╩иф но█═йср═лдапциы═╩гет интруцтион быте█═цмп═ё╓╤б═╩ИС ИТ АН ртл█═бея═╨стопеь═╩ИФ ЫЕС█═цмп═ё╓╤╟═╩ИС ИТ АН ртс█═бне═цхкцтрлс═╩ИФ НО█╨стопеь═ймп═цомддр═╩иф ыес стоп лоокинг анд дисплаы регистерс╝██╙ дИД ВЕ ГЕТ ХЕРЕ ФРОМ ТХЕ БРЕАК ХАНДЛЕР ©██╨цхкпас═бит═пассфлг█═бпл═╨цхктс═╩иф но█═стз═пассфлг═╩ресет█═ймп═еьецуте═╩цонтинуе██╨цхктс═бит═тсфлаг═╩ис тхис цомдтс ©█═бми═досуб═╩иф ыес██═йср═трансфр╟═╩дисплаы рег╖с фром рам ╕ дисассем инструцтион█═дфб═инитдисрц═╩цоде быте██╙ дЕЦРЕМЕНТ тЦОУНТ██скипрег═меморы╠╤█═дец═тцоунт═╩децремент бы ╠█═меморы╦█═бне═моретр═╩море трацинг██траценд═бит═пассфлг═╩дид ве гет хере фром а брк©█═бми═цомддр═╩иф ыес█═бит═ефлаг═╩аре ве доинг еьецуте н инструцтионс©█═бпл═леажтрц═╩иф но██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомддр█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██цомддр═стз═стфлаг═╩ ЕНАБЛЕ ДИСПЛАЫ ОФ РЕГИСТЕРС█═йср═трансфр╟═╩иф ыес дисплаы регистерс█═дфб═инитдисрц═╩цоде быте█леажтрц═стз═ефлаг█═стз═ртсфлаг█═стз═пассфлг█═ймп═гетцом╟═╩траце финисхед██еьцонт═цмп═ё╒╟╒═╩ еьецуте програм унтил цтрл╜ь█═бне═скипрег═╩ еь цомманд со дон╖т дисплаы регистерс█моретр██╙ цХЕЦК ФОР ЦТРЛ╜с ╕ ЕСЦ██цхкцтрлс═бит═иомоде═╩и╞о то сериал©█═бми═╨серусед═╩иф ыес█═лда═кбд═╩реад кеыбоард█═бпл═тотрацен═╩но кеыпрессед со цонтинуе█═цмп═кеы═╩ис ит стоп цомманд█═бне═тотрацен═╩но╛ цонтинуе█═бит═кбдстрб═╩ыес╛ цлеар кбд█╨ваиткеы═лда═кбд═╩реад кеыбоард█═бпл═╨ваиткеы═╩ваит фор кеыпресс█═бми═цхкесц═╩кеы прессед██╙ усе СЕРИАЛ и╞о█╨серусед═лда═ё╓╠═╩РЕЯУЕСТ ЦОДЕ╛ ╖ИС ИНПУТ РЕАДЫ©╖█═йср═трансфр╟═╩ГЕТ СЕРИАЛ и╞о СТАТУС█═дфб═статпасцц═╩ЦОДЕ█═бцц═тотрацен═╩НО КЕЫПРЕСС█═йср═трансфр╟═╩ГЕТ СЕРИАЛ ДАТА█═дфб═инпасцалц═╩ЦОДЕ█═цмп═кеы═╩ис ит СТОП ЦОММАНД©█═бне═цхкесц═╩иф но█ваитссц═йср═трансфр╟═╩ваит фор кеыпресс█═дфб═рецеижец═╩ЦОДЕ██╙ вАС ИТ ЕСЦ ©██цхкесц═цмп═ёесц═╩ис ит есц█═бея═цомддр═╩ыес╛ стоп траце█тотрацен═ймп═лоокбрк═╩но╛ цонтинуе██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ дО ТХЕ УСЕР╖С СУБРОУТИНЕ АНД СТОП ИФ ЦАРРЫ ИС СЕТ╝██досуб═лда═статус█═ора═ё╓╟╢═╩СЕТ и ФЛАГ█═пха█═мь╠╤█═лдь═ьрег═╩ресторе регистерс█═лды═ырег█═лда═ацц█═плп═╩ресторе статус█═йсл═усерсуб═╩до усер суб██╙ цОМЕ ХЕРЕ АФТЕР УСЕР╖С ртл██усерртс═цлд═╩ин цасе сет бы усер█═мь╦█═бцц═цхкцтрлс═╩цонтинуе█═лср═тсфлаг═╩цлеар тсфлаг█═бра═цомддр═╩стоп██усерсуб═ймп═шсубтрацещ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙  лоцал суброутинес█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜██═мь═╔╠╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙╙╙╙╙ стаинды анд лдаинды маы нот бе усед то цханге█╙╙╙╙╙ дисплаы ор отхер софт свитцхес╝██лдапбриы═╩лоад быте ат пбр╞пц█═лда═пбр█═ста═дбрддт═╩банк то аццесс█лдапциы═меморы╠╤█═лда═пцло═╩лоад пц█═ста═ловадд█═меморы╦█═лды═ё╟██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ лда ловадд╛ь фром цард и╞о спаце██лдаинды═лда═ё╓бф═╩лдал оп╛ь опцоде█═бра═цардслт╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ ста ловадд╛ь фром цард и╞о спаце██стаинды═ста═стаисаж═╩САЖЕ ЖАЛУЕ ТО СТОРЕ█═лда═ё╓╧ф═╩стал оп╛ь опцоде██цардслт╠═пхь═╩саже╛ РЕСТОРЕД БЫ слотртс█═пхы═╩САЖЕ█═ьба═╩САЖЕ ОПЦОДЕ██═лда═цьстатус═╩ГЕТ цьром СТАТУС█═рол═╩СЕТ цАРРЫ ВИТХ цьстатус┴┴██═пхд═╩САЖЕ██═лда═дбрддт═╩ДАТА БАНК ТО АЦЦЕСС█═тцд═╩д ╫ ОПЦОДЕ╛ дбр██═лдь═слотн╟█═индеь╠╤█═лды═ловадд═╩АДДРЕСС ТО АЦЦЕСС██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ ║║║ цаутион ║║║ сегмент депендент цоде ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█═лда═ё╔╠╟╟╟╟╟╟╟═╩рам╦╛ ром╟█═ста═сегмбасе╛ь██═лда═ё╓╟╥═╩ДЕФАУЛТ ТО ць ОН█═бцс═╨цьон═╩ИФ ЫЕС█═лда═ё╓╟╤█╨цьон═ста═иоць╦██═сты═иоладрс═╩АДДРЕСС ТО АЦЦЕСС█═тдц█═ста═иодбр═╩БАНК ТО АЦЦЕСС█═ьба█═ста═иоопцд═╩ПУТ лда╞ста ОПЦОДЕ█═индеь╦██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ ║║║ цаутион ║║║ сегмент депендент цоде ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█═стз═сегмбасе╛ь═╩рам╟╛ ром╟██═плд█═плы═╩РЕСТОРЕ█═тыь═╩РОУТИНЕ НОВ ДОЕС ста╛ь██═лда═стаисаж═╩ФОР ста ТХИС РЕСТОРЕС ЖАЛУЕ ТО СТОРЕ█═йср═аь╡с╠ъб═╩аЦЦ ╕ ь ТО сег╠ рам╛ СЕТ ць ╕ СЛОТ СВИТЦХ██═йср═еьцхзпаг═╩еЬЦХАНГЕ зеро ПАГЕ ЛОЦАТИОНС█═лдь═слотн╟═╩СЛОТ НУМБЕР Н╟█═цлц═╩КЕЕП ИН ЕМУЛАТИОН МОДЕ█═ймп═тоц╟н╟ио═╩ГО ТО и╞о РОУТИНЕС ИН ц╟Н╟ СПАЦЕ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙  еьецуте█╙  гО РУН ТХЕ УСЕР╖С ЦОДЕ АТ ╗пбр╘╞пцхи пцло█╙ ║║║║ варнинг ║║║║ сТАЦК МУСТ нот БЕ ИН ддтрам ВХЕН аь╡с╠ъа ИС ЕЬЕЦУТЕД█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜██еьецуте██╙ рЕСТОРЕ ТХЕ ТЕЬТ ПАГЕ ╕ рЕПЛАЦЕ ТХЕ ИНТЕРРУПТ ЖЕЦТОРС ИФ жецторс╫╟█╙ сЕТУП сег╥ и╞о РОУТИНЕ█═йср═трансфр╟█═дфб═рестстуфц═╩ЦОДЕ██═йср═аь╡с╠ъа═╩сАЖЕ ацц ╕ ьрег ТО сег╠ рам██╙ рЕСТОРЕ ТХЕ УСЕР╖С СТАЦК█═индеь╠╤█═лдь═ёддтстацк█═тьс═╩пут стацк ин ддт рам█═йср═стацкрес═╩ресторе усер╖с стацк█╙ СТАЦКРЕС РЕТУРНС ВИТХ мь╠╤█═мь═╔╟╟██╙ рЕСТОРЕ ПАРТ ОФ ТХЕ РЕГИСТЕРС█═меморы╦█═лдь═дрег═╩гет дирецт рег╝█═пхь█═плд═╩ресторе дирецт рег╝█═лда═дбр═╩дата банк регистер█═пха═╩пуллед белов█═лды═ырег═╩рЕСТОРЕ ╦ ОР ╠╤ БИТ ы██╙ иНИТИАЛИЗЕ жиа█═лда═ё╔╠╠╟╠╠╠╠╟═╩цб╡ лов╛ цб╠ пос едге╛ ца╡ хи╛ ца╠ нег едге█═ста═жиапцр═╩реплаце аппле╖с жецторс██╙ цАРРЫ ФЛАГ РЕМАИНС УНЦХАНГЕД УНТИЛ УСЕД╝█═лда═емулате█═рол═╩сет царры витх емулатион флаг██╙ сЕТУП ацц ФОР СЕГМЕНТ ЦХАНГЕ█═лда═ё╟█═ьба═╩МАКЕ УППЕР БЫТЕ ╟█═лда═слотн╟██╙ фИНИСХ РЕСТОРИНГ РЕГИСТЕРС█═лдь═стацк═╩гет усер╖с стацк█═плб═╩ресторе усер╖с дата банк█═тьс═╩ресторе усер╖с стацк██═таь═╩СЕТУП ВИТХ СЛОТН╟ АБОЖЕ██═ьце═╩РЕСТОРЕ УСЕР╖С МОДЕ СО СТАЦК ВОРКС ТХЕ САМЕ█═лдал═пбр█═бне═╨допбр═╩НАТИЖЕ МОДЕ ОР ╦ БИТ ЦОДЕ ИН НОН ЗЕРО БАНК█═лдал═емулате═╩ВАС пбр РЕАЛЛЫ ╟ ИН НАТИЖЕ МОДЕ©█═бми═╨емул═╩СКИП пбр ИФ ЕМУЛАТИОН МОДЕ█═лда═ё╟═╩НАТИЖЕ МОДЕ пбр ВАС ╟█╨допбр═пха█╨емул═лдал═пцхи█═пха█═лдал═пцло═╩ПУТ рти СТУФФ ОН УСЕР╖С СТАЦК█═пха█═лдал═статус█═ОРАл═иФЛАГ═╩ ИНЦЛУДЕ ИНТЕРРУПТ МАСК ФЛАГ█═пха█═ьце═╩РЕТУРН ТО НАТИЖЕ МОДЕ█╙ иНДЕЬ МАЫ БЕ ╦ БИТ БУТ ТХАТ ИС ок╝██═лда═ё╓фф█═стал═жиаифр═╩цлеар олд интеррупт флагс█═лдал═иербуфф═╩гет интеррупт флагс фром буффер█═стал═жиаиер═╩енабле интерруптс██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ ║║║ цаутион ║║║ сегмент депендент цоде ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ аЛТЕРНАТЕ ЕНТРЫ ПОИНТ ФОР ц╟Н╟ио РОУТИНЕС╝█╙ еНТЕР ХЕРЕ ФРОМ тогсинт ТО РЕТУРН ЦОНТРОЛ ТО ТХЕ гс ИНТЕРРУПТ ХАНДЛЕР ВХЕН█╙ ВЕ ТРАППЕД АН ИНТЕРРУПТ ТХАТ ВАС НОТ ОУРС╝█╙ аЛСО УСЕД БЫ ста╞лдаинды█╙ еНТЕР ВИТХ мь ╔╠╟██тоц╟н╟ио█═лда═ё╔╟╟╟╠╟╟╟╟═╩рам╠╛ ром╟█═стал═сегмбасе╛ь██═меморы╠╤█═лдал═ьрег╠█═таь═╩РЕСТОРЕ ь РЕГ█═лдал═ацц╠═╩РЕСТОРЕ УППЕР БЫТЕ ОФ аЦЦ█═меморы╦██═лда═ё╟█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ тиме цритицал цоде█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█═стал═жиат╡цх═╩фор еьецутион тиме╛ доес нот цаусе нми██═лдал═ацц╠═╩ЛОАД ЛОВ БЫТЕ ВИТХ СЕГ ё ФОР и╞о ТРАНСФЕР█═ьце═╩РЕСТОРЕ ЕМУЛАТИОН БИТ█═ймп═╗тослотц╟╘═╩гОТО СЛОТц╟ РОУТИНЕС██═мь═╔╠╠███╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ сАЖЕ ацц ╕ ьрег ТО ацц╠ ╕ ьрег╠ ИН СЕГМЕНТ ╠█╙ ║║║║ аЛЕРТ ║║║║ иФ ТХЕ СТАЦК ИС ИН ддт РАМ ТХЕН ТХЕ аЦЦ╝ ВИЛЛ НОТ БЕ█╙ САЖЕД ИН сег╠ РАМ╝██аь╡с╠ъа═индеь╠╤█═цлц═╩ц╫╟ ╫ еЬЕЦУТЕ█═лда═ацц╚╠═╩ХИ БЫТЕ█═лдь═ьрег█═бра═аь╡с╠ъц██╙ лда╞ста ЕНТРЫ╨ сАЖЕ аЦЦ ╕ ь█аь╡с╠ъб═индеь╠╤█═сец═╩ц╫╠ ╫ лда╞ста█аь╡с╠ъц═ьба═╩ПУТ ИН хи БЫТЕ█═пхы═╩САЖЕ ы█═пхд═╩САЖЕ ДИРЕЦТ РЕГ█═тьы██╙ сЕТУП сег╠ еь РОУТИНЕ██═лдал═цнслот═╩ЛАСТ АЦТИЖЕ ПЕРИПХЕРАЛ СЛОТ█═тцд═╩УСЕ ДИРЕЦТ РЕГ АС ТЕМП СТОРАГЕ██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ ║║║ цаутион ║║║ сегмент депендент цоде ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█═лда═ё╟█═ьба█═лда═слотн╟█═таь█═лда═ё╔╟╟╟╠╟╟╟╟═╩рам╠╛ ром╟█═ста═сегмбасе╛ь██═тдц═╩СТОРЕД ИН ДИРЕЦТ РЕГ█═ста═иоусер═╩СЕТУП и╞о РОУТИНЕ██═сты═ьрег╠═╩НЕЕДЕД ТО РЕСТОРЕ ь██═лда═ё╓╥╟═╩ДЕФАУЛТ ТО сег ╥ ФОР ПАРТ ╡ ОФ и╞о█═бцц═╨еьец═╩ИФ ЕЬЕЦУТЕ█═лда═ё╓╦╟═╩лда╞ста ЦОНТИНУЕС ИН сег ╦┴█╨еьец═таы█═сты═ацц╠═╩НЕЕДЕД ТО РЕСТОРЕ ацц ХИ БЫТЕ ╕ сег ПАРТ ╡██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ ║║║ цаутион ║║║ сегмент депендент цоде ╙█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█═стз═сегмбасе╛ь═╩рам╟╛ ром╟█═плд═╩РЕСТОРЕ ДИРЕЦТ РЕГ█═плы═╩РЕСТОРЕ ы█═мь╦█═ртс██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙еьцханге зеро паге рам со ит гетс упдатед проперлы██еьцхзпаг═пха═╩саже регистерс█═пхь█═пхы██═лдь═ёЁ═╩╢ бытес█╨неьт═лда═басбуф╛ь═╩гет фром ддт буффер█═лды═басл╛ь═╩гет фром аппле╖с рам█═ста═басл╛ь═╩пут ин аппле╖с рам█═тыа█═ста═басбуф╛ь═╩пут ин ддт буффер█═деь█═бпл═╨неьт██═плы═╩ресторе регистерс█═пль█═пла██═ртс██═мь═╔╠╠═╩╦ бит██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ рЕСТОРЕ РЕГИСТЕРС ФОР ддт ОПЕРАТИОН╝ уСЕД БЫ сажерег ╕ цмддортс██ртсрест═цлц█═ьце═╩НАТИЖЕ МОДЕ█═сеп═ё╓╡╢═╩меморы╦ ╚ сеи╛ НО ИНТЕРРУПТС ВХИЛЕ ИН ддт██═ДО═ДЕБУГ═╩КЕЕП ИН БАНК ╟╟ ФОР апв ДЕБУГГЕР ТО ВОРК█═пеа═ё╓╟╟╟╟█═ЕЛСЕ═╩УСЕ БАНК ё╓е╟ ФОР НОРМАЛ ОПЕРАТИОН█═пеа═ё╓е╟е╟█═ФИН═╩ФИНИСХ ОФ ЦОНДИТИОНАЛ██═плб█═плб═╩сет дата банк█═ртс██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ саже регистерс█╙ СЕТ НАТИЖЕ МОДЕ█╙ ╣╜╠╜╧╠ аЦЦ ИС САЖЕД БЕФОРЕ ЦОМИНГ ХЕРЕ╝██сажерег═пхп═╩САЖЕ СТАТУС█═йср═ртсрест═╩НАТИЖЕ МОДЕ╛ СЕТ дбр█═рор═емулате═╩сет емулатион флаг█═пла█═ста═статус██═индеь╠╤═╩╠╤ бит█═сть═ьрег█═сты═ырег█═пль═╩гет ретурн аддресс█═сть═темп█═тсь█═сть═стацк═╩САЖЕ УСЕР╖С СТАЦК█═бра═сажевстк═╩САЖЕ ВОРК СТАЦК СПАЦЕ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ САЖЕ сТАЦК╛ д ╕ СЕТ СТАЦК ПОИНТЕР ТО ВОРКИНГ АРЕА╝█╙ ЕНТЕР ВИТХ мь╠╤██═мь═╔╟╟█съсажест═╫═щСЕГНУМ█сажестк█═тсь█═сть═стацк═╩саже усер╖с стацк██╙ рЕСТОРЕ уСЕР╖С СТАЦК рам ТХАТ ВАС ДИСТУРБЕД БЫ ИНТЕРРУПТ СТУФФ╝██═тьа═╩цуррент поинтер█═сец█═сбц═олдстацк═╩цуррент поинтер ╜ олд поинтер██═бит═емулате╜╠═╩ворд тест█═бпл═╨натиж█═ора═ё╓фф╟╟═╩маке негатиже█═бит═ё╓╟╟╦╟═╩тест сигн оф лов быте█═бне═╨натиж═╩иф нег╛ кееп ин сигн еьтендед форм█═анд═ё╓╟╟фф═╩╦ бит стацк со стрип хи быте█╨натиж═цлц██═адц═ёстацкбуф╜╣═╩стацк буффер оффсет█═цмп═ёстацкбуф═╩ис поинтер витхин лимитс█═меморы╦█═бге═╨ендсткр═╩иф оутсиде лимитс█═таы██═бит═емулате█═бпл═╨модеок═╩стаы ин натиже моде█═сец█═ьце═╩сет емулатион моде█╨модеок═тьс═╩пут бацк то усер╖с стацк██╨вхиле═лда═сткбуфм╛ы═╩гет быте фор маин рам стацк█═бит═алтзп═╩тест алтзп флаг█═бпл═╨маин═╩стацк ис ин маин рам█═лда═сткбуфа╛ы═╩гет быте фор ауь рам стацк█╨маин═пха█═деы█═бпл═╨вхиле██═цлц█═ьце═╩пут бацк ин натиже моде█═индеь╠╤█╨ендсткр██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ сАЖЕ АН АРЕА ОФ УСЕР╖С СТАЦК РАМ ТО ДДТ РАМ АНД СВИТЦХ СТАЦК ПОИНТЕР█╙ ТО ТХИС ВОРК АРЕА╝█╙ сАЖЕС ФРОМ МАИН ОР АУЬ СТАЦК РАМ АЦЦОРДИНГ ТО СЕТТИНГ ОФ алтзп█═мь═╔╠╟██сажевстк█═лдь═ёвстклгтх═╩ленгтх оф ворк стацк██╨вхиле╡═лдал═воркстак╜встклгтх╛ь█═ста═всткбуфф╛ь═╩саже ворк стацк то ддт рам█═деь█═бне═╨вхиле╡██═лдь═ёворкстак█═тьс═╩сет стацк то ворк ареа█═пхд═╩пусх ╠╤ бит дирецт рег█═пль═╩пулл ╠╤ битс█═сть═дрег═╩саже дирецт рег█═лдь═ё╟╟╟╟█═пхь█═плд═╩сет дирецт рег то инсуре ит╖с ин рам█═лдь═темп═╩гет ретурн аддресс█═пхь═╩пут он стацк█═сеп═ё╔╟╟╠╠╟╠╟╟═╩╦ бит дата ╕ индеь╛ иря дисабле█═лда═ацц█═ста═збыте╠█═ртс█═мь═╔╠╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙       интстуфф█╙█╙ тХЕ ддт ОНЛЫ ТРАПС ТХЕ брк АНД нми ИНТЕРРУПТС╨█╙ иНТЕРРУПТ ХОУСЕ КЕЕПИНГ СТУФФ█╙  гЕТ ИНТЕРРУПТ ИНФО ОФФ УСЕР╖С СТАЦК╝█╙  сЕТ ВОРКИНГ СТАЦК СПАЦЕ╝█╙  сАЖЕ РЕГИСТЕРС╝█╙  сЕТ НАТИЖЕ МОДЕ╝█╙  еНТЕРС ВИТХ меморы╦╝█╙  тРАП ОНЛЫ ОУР нми╖С АНД АЛЛ бркС БУТ НОТХИНГ ЕЛСЕ╝█╙█╙ нОТЕ║ тХИС РОУТИНЕ МУСТ ОПЕРАТЕ ИН ТХЕ УСЕР╖С МОДЕ ╗НАТИЖЕ╛ЕМУАЛТИОН╘ ВХЕН█╙ ДЕАЛИНГ ВИТХ ТХЕ СТАЦК╝██интстуфф█═сеи═╩ДИСАБЛЕ ИНТЕРРУПТС█═цлд█═стал═цьстатус═╩САЖЕ цьром СТАТУС█═пхб═╩САЖЕ ДАТА БАНК█═цлц█═ьце═╩СЕТ НАТИЖЕ МОДЕ СО НАТИЖЕ ПУЛЛС ВОРК РИГХТ█═лда═ё╓е╟█═пха█═плб═╩СЕТ ДАТА БАНК█═ьце═╩РЕСТОРЕ УСЕР╖С МОДЕ█═ьба█═ста═ацц╚╠═╩САЖЕ ХИ БЫТЕ██╙ тХИС МУСТ БЕ ДОНЕ БЕФОРЕ ТХЕ ЦАПАЦИТОР ОН ТХЕ БУТТОН ИНПУТ РЕЦХАРГЕС█╙ ТО ╟╝╤Ж╛ АППРОЬИМАТЕЛЫ ╟╝╠Мс╝█╙ нЕЕДЕД ХЕРЕ ИНЦАСЕ ОФ ФАСТ нми█═лда═жиапцр═╩ентер хере то пут ╞инит лов█═ора═ё╔╠╠╠╟╠╠╠╟═╩реможе инжисибилиты ╗ца╡ хи╘ ╕█╙ ДОН╖Т РЕПЛАЦЕ АППЛЕ╖С ЖЕЦТОРС ╗цб╡ хи╘█╙╙╙╙╙ аллов СВИТЦХИНГ СЕГМЕНТС ИН ддт ром ║║║ ╙╙╙╙╙  ╗цб╡ хи╘█═ста═жиапцр██╙ сТОП т╡ ЦОУНТ ИНЦАСЕ ТХИС ИС ет ЦОММАНД█═лда═жиаацр█═ора═ё╔╟╟╠╟╟╟╟╟█═ста═жиаацр█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙  ║║║ тиме депендент уп то тхис поинт БЕЦАУСЕ ОФ ет ЦОММАНД█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜██╙ ГЕТ ИНТЕРРУПТ СТУФФ ОФФ СТАЦК█═пла█═ста═дбр█═пла█═ста═ацц═╩САЖЕ ЛОВ БЫТЕ█═пла█═ста═темп╚╡═╩САЖЕ ПОСТ ИНТЕРРУПТ СТАТУС██═пла█═ста═темп█═пла█═ста═темп╚╠═╩АДДРЕСС ОФ ╓Ёфб ОР ╓е╠╞╟╟╥╟ йср РЕТУРН██═пеа═интанлыз╜╠═╩АДДРЕСС ОФ ЦОММАНД╛ иНТЕРУПТ аНЛЫЗЕ█═пеа═съинтанл═╩СЕГМЕНТ ё ОФ ЦОММАНД█═ймп═йумпсег╟═╩ГОТО ЦОММАНД ИН ОТХЕР СЕГМЕНТ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ рЕСТОРЕ ТХЕ ВОРК СТАЦК РАМ АРЕА ФРОМ ДДТ РАМ БУФФЕР╝█╙ ЕНТЕРС ВИТХ сТАЦК СЕТ ТО ддтстацк ╕ иНДЕЬ╠╤█╙ рЕСТОРЕС ТО МАИН ОР АУЬ РАМ АЦЦОРДИНГ ТО СЕТТИНГ ОФ алтзп█═мь═╔╠╟██всткрес█═лдь═ёвстклгтх═╩ленгтх оф ворк стацк██╨вхиле═лда═всткбуфф╛ь═╩гет ворк стацк дата фром ддт рам█═стал═воркстак╜встклгтх╛ь═╩пут ин стацк рам█═деь█═бне═╨вхиле██═ртс█═мь═╔╠╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ стацкрес█╙ рЕСТОРЕ ТХЕ АРЕА ОФ ТХЕ УСЕР╖С СТАЦК ТХАТ ВАС УСЕД БЫ ТХЕ ддт ФОР ворк стацк█╙ сАЖЕ уСЕР╖С СТАЦК█╙ еНТЕРС ВИТХ СТАЦК ИН ддтстацк█╙ рЕТУРНС ВИТХ мь╠╤█═мь═╔╠╟═╩ентерс витх индеь╠╤█стацкрес═йср═всткрес═╩ресторе ворк стацк██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ сАЖЕ ТХЕ АРЕА ОФ ТХЕ УСЕР╖С СТАЦК ТХАТ ВИЛЛ БЕ ЦХАНГЕД БЫ ТХЕ ддт╝██стацксаж█═индеь╠╤█═лда═усеропцд═╩гет усер╖с опцоде█═цмп═ё╓╧а═╩ис ит тьс ©█═бне═╨нотьс═╩иф но█═лдь═ьрег═╩усе ь фор стацк поинтер█═бра═╨стацкс█╨нотьс═цмп═ё╓╠б═╩ис ит тцс ©█═бне═╨нотцс═╩иф но█═лдь═ацц═╩усе ацц фор стацк поинтер█═бра═╨стацкс██╙ сАЖЕ ТХЕ СТАЦК рам ТХАТ МАЫ БЕ ЦХАНГЕД БЫ ТХЕ ддт ИНТЕРРУПТ╝██╨нотцс═лдь═стацк═╩гет усер╖с стацк поинтер█╨стацкс═сть═олдстацк═╩саже поинтер то бе усед дуринг ресторе█═инь█═инь█═инь═╩старт саже ╢ бытес абоже стацк поинтер█═инь█═лды═ёстацкбуф╜╠═╩саже стацкбуф бытес██═лда═алтзп█═ста═алтзпбф═╩саже алтзп█═ста═маинзп═╩сет то маин рам стацк██═цмп═ё╓фб═╩ис ит ьце ©█═бне═╨ноьце═╩иф но█═лда═статус█═анд═ё╓╟╠═╩вхат вилл нев моде бе©█═бне═╨емул═╩иф ╦ бит█═бра═╨саже╠╤═╩иф ╠╤ бит██╨ноьце═бит═емулате═╩вхат ис цуррент моде©█═бми═╨емул═╩цф ╦ бит██╙ саже ╠╤ бит стацк█╙ вхиле ы ╬ ╟ до█╨саже╠╤═лдал═╓╟╟╟╟╟╟╛ь═╩гет дата фром маин стацк рам█═ста═сткбуфм╛ы═╩саже ин ддт рам█═лдал═╓╟╠╟╟╟╟╛ь═╩гет дата фром ауь стацк рам█═ста═сткбуфа╛ы═╩саже ин ддт рам█═деь█═деы█═бпл═╨саже╠╤█╙ ендв  █═бра═╨ендсткс██╨емул═индеь╦═╩╦ бит стацк██╙ саже ╦ бит стацк█╙ вхиле ы ╬ ╟ до█╨вхиле═лдал═╓╟╟╟╠╟╟╛ь═╩гет дата фром маин стацк рам█═ста═сткбуфм╛ы═╩саже ин ддт рам█═лдал═╓╟╠╟╠╟╟╛ь═╩гет дата фром ауь стацк рам█═ста═сткбуфа╛ы═╩саже ин ддт рам█═деь█═деы█═бпл═╨вхиле█╙ ендв██╨ендсткс█═бит═алтзпбф═╩вас стацк ин маин рам ©█═бпл═╨маин═╩иф ыес█═ста═ауьзп═╩иф но╛ пут стацк ин ауь рам█╨маин═мь╠╤█═ртс█═мь═╔╠╠██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдйс ╜ йср█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██╙ еЬЕЦУТЕ ТХЕ СУБРОУТИНЕ АТ ТХЕ АДДРЕСС ФОЛЛОВИНГ█╙ ТХЕ ╒йс╒ ЦОММАНД АНД РЕТУРН ТО ддт ЦОММАНД ПРОМПТ╝██цомдйс═еяу═╙█═бея═тоерр╟═╩иф но аддресс фолловс█═йср═трансфр╟═╩ЦХЕЦК ФОР ЖАЛИД ХЕЬ╛ ПУТ ИН леттерЁ╛╡╛╠█═дфб═цхкреадц═╩ ЦОДЕ█═бцц═йсцонт═╩ИФ ок█тоерр╟═ймп═бадпар╟═╩иф БАД██╙ сЕТ УП ртс СО УСЕР╖С РОУТИНЕ РЕТУРНС ТО цмддортс ИН ЦАРДС и╞о СЛОТ██йсцонт═лда═слотцн══╩слот ё ╓цн█═пха═══╩хи быте оф ретурн аддресс█═лда═ёцмддортс╜╠═╩лов быте оф ретурн аддресс█═пха█═лда═леттер╠═╩лов аддресс быте оф усер суб█═ста═субтраце═╩субтраце ис ок то усе█═лда═леттер╡═╩хи аддресс быте█═ста═субтраце╚╠█═йср═трансфр╠═╩ресторе тхе з паге ╕ теьт рам█═дфб═ресттеьтц═╩цоде█═ймп═╗субтраце╘██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙█╙  цомдрт ╜ реал тиме█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╙██╙ рУН ТХЕ УСЕРС ПРОГРАМ ИН РЕАЛ ТИМЕ ТО ТХЕ МАТЦХИНГ ртс╝█╙ тХЕ ЦУРРЕНТ ИНСТРУЦТИОН ИС ТРАЦЕД ФИРСТ██цомдрт═лда═ё╓ц╟█═ста═цомртфлг═╩индицате РЕАЛТИМЕ АЦТИЖЕ ╗╥╫╠╘╛ ╕ цомманд рт ╗╤╫╠╘█═ЛДА═статус█═СТА═ртСТАТУС═╩ САЖЕ УСЕР╖С СТАТУС СО ВЕ ЦАН РЕСТОРЕ УСЕР╖С и ФЛАГ█═ОРА═ё╓╟╢═╩ ДИСАБЛЕ ИНТЕРРУПТС ФОР йсл█═СТА═статус██╙ тРАЦЕ АНЫ КИНД ОФ ИНСТРУЦТИОН ВИТХ степ╠█═ймп═степ╠██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙ цомманд он█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██съцомдон═╫═щСЕГНУМ═╩СЕГМЕНТ НУМБЕР ОФ ТХИС РОУТИНЕ█цомдон═бит═офффлаг═╩ис дисплаы офф ©█═бпл═онифон═╩иф но█═лда═ё╟█═ста═офффлаг═╩енабле дисп то сцреен█═йср═трансфр╟═╩саже сцреен дисплаы иф инж он█═дфб═сажедиспц═╩ЦОДЕ█онифон═йср═трансфр╟═╩дисплаы алл виндовс█═дфб═диспонц═╩ЦОДЕ█═бра═гетцом╟██╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙█╙  цомдофф ╜ тУРН ддт ДИСПЛАЫ ОФФ█╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙╙██съцомдофф═╫═щСЕГНУМ═╩СЕГМЕНТ НУМБЕР ОФ ТХИС РОУТИНЕ█цомдофф═бит═офффлаг═╩дисплаы алреады офф ©█═бми═гетцом╟═╩иф ыес█═йср═трансфр╟═╩ресторе дисплаы свитцхес█═дфб═ресттеьтц═╩ЦОДЕ█═лда═ё╓╦╟█═ста═офффлаг═╩дон╖т дисплаы то сцреен██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙   гетцом╟ ╜ ДО ╪цр╬ ╕ ВАИТ ФОР УСЕР ЦОММАНД█╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜██гетцом╟═пеа═гетцомцр╜╠═╩АДДРЕСС ОФ ЦОММАНД█═пеа═съгетцом═╩СЕГМЕНТ ё ОФ ЦОММАНД█═ймп═йумпсег╟═╩ГОТО ЦОММАНД ИН ОТХЕР СЕГМЕНТ██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙╙╙╙╙ глобал суброутинес ин тхис сегмент ╙╙╙╙╙█╙╙╙╙╙ маьимум оф Ё╡ ╙╙╙╙╙█╙╙╙╙╙ цоде бытес аре еяуатед ас фолловс█╙█╙ битс ╟╜╡ ╫ сегмент нумбер ╓╟ тхру ╓╥ оф суброутине█╙ битс Ё╜╥ ╫ нумбер оф суброутине ин субтабл██субтабл╟██лдаиндыц═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═лдаинды╜╠██стаиндыц═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═стаинды╜╠██степ╠ц═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═степ╠╜╠██еьецутец═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═еьецуте╜╠██всткресц═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═всткрес╜╠██аь╡с╠ъац═еяу═╙╜субтабл╟╙╢╚╟╚╓╠╟╟█═да═аь╡с╠ъа╜╠██╙╙╙╙╙╙╙╙╙╙╙╙╙ сегмент цроссожер ареа ╙╙╙╙╙╙╙╙╙╙╙╙╙██═лст═он█с╟енд═╫═╓е╟цф╧╠╜╙█═ДО═НОЛИСТ█═лст═офф█═ФИН█═ерр═╙╜╠╞╓е╟цф╧╠█═дс═╓е╟цф╧╠╜╙╛╓фф██╙╙╙╙╙╙╙╙ саже тхе ацц╛ ь╛ ы анд п регистерс ╙╙╙╙╙╙╙█╙ рЕТУРНС ВИТХ мь ╫ ╠╠╛ САЖЕС РЕГИСТЕРС██сажеаьп╟█═пхп═╩саже статус█═мь╠╤█═сть═ьсажесег═╩САЖЕ ╠╤ БИТС█═сты═ысажесег═╩САЖЕ ╠╤ БИТС█═ста═асажесег═╩САЖЕ ╠╤ БИТС█═мь╦█═пла═╩гет статус█═ста═псажесег═╩саже█═ртс██╙╙╙╙╙╙ ресторе тхе ацц╛ ь╛ ы анд п регистерс ╙╙╙╙╙╙█╙ РЕСТОРЕС РЕГИСТЕРС██рестаьп╟█═меморы╦█═лда═псажесег█═пха█═мь╠╤█═лдь═ьсажесег█═лды═ысажесег█═лда═асажесег█═плп██╙╙╙ тхис ртс ис усед бы тхе финдслот роутине ╙╙╙█путслот═ртс█═мь═╔╠╠██╙╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜╜█╙ дО А ДИРЕЦТ ТРАНСФЕР ТО ОТХЕР СЕГМЕНТС██йумпсег╟█═йср═сажеаьп╟█═лды═слотн╟█═пла═╩ПУЛЛ ЙУНК БЫТЕ ФРОМ ДЕСТ╝ СЕГ█═пла═╩ГЕТ ДЕСТИНАТИОН СЕГМЕНТ█═ста═сегмбасе╛ы═╩ТХЕ НЕЬТ ИНСТ╖ ВИЛЛ БЕ ИН НЕВ СЕГ█═йср═рестаьп╟═╩РЕСТОРЕ АФТЕР ЬФЕР ФРОМ ОТХЕР СЕГ█═ртс═╩ПУЛЛ ДЕСТИНАТИОН АДДРЕСС ФРОМ СТАЦК██╙ трансфер то отхер сегментс█╙ уППЕР БЫТЕ ОФ ь ИНДЕЬ ИС ЗЕРОЕД██трансфр╟█═йср═сажеаьп╟█═меморы╠╤█═пла═╩ГЕТ РЕТУРН АДДРЕСС ФРОМ СТАЦК█═инц═╩ИНЦ ТО ПОИНТ АТ ЦОДЕ БЫТЕ ╕ ФОР ртс█═пха█═меморы╦█═лда═ё╟═╩цуррент сег ё█═пха█═лды═ё╟█═лда═╗╡╛с╘╛ы═╩гет цоде быте█═пха═╩саже цоде█═анд═ё╓╟╥═╩стрип алл бут сег ё█═лды═слотн╟█═ста═сегмбасе╛ы═╩неьт инстр╝ рун фром нев сегмент█╙ нев сегмент█═пла═╩гет цоде█═пеа═ретурн╟═╩ВХЕРЕ ТО РЕТУРН ТО█═анд═ё╓ф╦═╩стип офф сегё леажинг суб ё█═лср█═лср═╩леаже субё мултиплиед бы ╡█╙ гет аддресс оф суб фром субтабл ╕ пусх он стацк█═таы█═меморы╠╤█═лда═субтабл╟╛ы█═пха█═бра═рестаьп╟═╩ресторе регистерс╛ ртс то суброутине█═мь═╔╠╠██╙ ретурн хере фром суброутине██ретурн╟═еяу═╙╜╠█═йср═сажеаьп╟█═пла═╩сег ё то ретурн то█═лды═слотн╟█═ста═сегмбасе╛ы═╩ретурн то сегмент█═бра═рестаьп╟██═дс═э╛╓фф═╩пут обйецт ат неьт паге█